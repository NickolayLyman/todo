(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function r(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerpolicy&&(a.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?a.credentials="include":e.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(e){if(e.ep)return;e.ep=!0;const a=r(e);fetch(e.href,a)}})();function L(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var E={},q={get exports(){return E},set exports(t){E=t}};(function(t,n){(function(r){t.exports=r()})(function(){return function r(i,e,a){function d(s,l){if(!e[s]){if(!i[s]){var h=typeof L=="function"&&L;if(!l&&h)return h(s,!0);if(g)return g(s,!0);var m=new Error("Cannot find module '"+s+"'");throw m.code="MODULE_NOT_FOUND",m}var o=e[s]={exports:{}};i[s][0].call(o.exports,function(u){return d(i[s][1][u]||u)},o,o.exports,r,i,e,a)}return e[s].exports}for(var g=typeof L=="function"&&L,c=0;c<a.length;c++)d(a[c]);return d}({1:[function(r,i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.visible=void 0;var a=function(c){var s=arguments.length>1&&arguments[1]!==void 0&&arguments[1],l=document.createElement("div");return l.innerHTML=c.trim(),s===!0?l.children:l.firstChild},d=function(c,s){var l=c.children;return l.length===1&&l[0].tagName===s},g=function(c){return(c=c||document.querySelector(".basicLightbox"))!=null&&c.ownerDocument.body.contains(c)===!0};e.visible=g,e.create=function(c,s){var l=function(o,u){var f=a(`
		<div class="basicLightbox `.concat(u.className,`">
			<div class="basicLightbox__placeholder" role="dialog"></div>
		</div>
	`)),y=f.querySelector(".basicLightbox__placeholder");o.forEach(function(M){return y.appendChild(M)});var O=d(y,"IMG"),C=d(y,"VIDEO"),D=d(y,"IFRAME");return O===!0&&f.classList.add("basicLightbox--img"),C===!0&&f.classList.add("basicLightbox--video"),D===!0&&f.classList.add("basicLightbox--iframe"),f}(c=function(o){var u=typeof o=="string",f=o instanceof HTMLElement==1;if(u===!1&&f===!1)throw new Error("Content must be a DOM element/node or string");return u===!0?Array.from(a(o,!0)):o.tagName==="TEMPLATE"?[o.content.cloneNode(!0)]:Array.from(o.children)}(c),s=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if((o=Object.assign({},o)).closable==null&&(o.closable=!0),o.className==null&&(o.className=""),o.onShow==null&&(o.onShow=function(){}),o.onClose==null&&(o.onClose=function(){}),typeof o.closable!="boolean")throw new Error("Property `closable` must be a boolean");if(typeof o.className!="string")throw new Error("Property `className` must be a string");if(typeof o.onShow!="function")throw new Error("Property `onShow` must be a function");if(typeof o.onClose!="function")throw new Error("Property `onClose` must be a function");return o}(s)),h=function(o){return s.onClose(m)!==!1&&function(u,f){return u.classList.remove("basicLightbox--visible"),setTimeout(function(){return g(u)===!1||u.parentElement.removeChild(u),f()},410),!0}(l,function(){if(typeof o=="function")return o(m)})};s.closable===!0&&l.addEventListener("click",function(o){o.target===l&&h()});var m={element:function(){return l},visible:function(){return g(l)},show:function(o){return s.onShow(m)!==!1&&function(u,f){return document.body.appendChild(u),setTimeout(function(){requestAnimationFrame(function(){return u.classList.add("basicLightbox--visible"),f()})},10),!0}(l,function(){if(typeof o=="function")return o(m)})},close:h};return m}},{}]},{},[1])(1)})})(q);const b=document.querySelector(".todo-list"),I=document.querySelector(".btn-add"),S=document.querySelector(".input-js"),p="todo-data",w='<button type="button" class="btn-update" ></button>',x='<button type="button" class="btn-delete" >del</button> </div>';function k(t){const n=t.map(r=>T(r)).join("");b.insertAdjacentHTML("beforeend",n)}function T(t){const n=t.cls==="todo"?w:x;return`<li class="${t.cls}" id="${t.id}">
  <p>${t.text}</p> 
  ${n}
  </li>`}let v=null;const _=()=>{if(!S.value.trim())return;const t=JSON.parse(localStorage.getItem(p))||[],n={id:Date.now(),cls:"todo",text:S.value};t.push(n);const r=T(n);b.insertAdjacentHTML("afterbegin",r),localStorage.setItem(p,JSON.stringify(t)),S.value=""},A=t=>{if(!t.target.classList.contains("btn-delete"))return;const r=JSON.parse(localStorage.getItem(p)).filter(i=>i.id!==Number(t.target.parentNode.id));localStorage.setItem(p,JSON.stringify(r)),t.target.parentNode.remove()},P=t=>{const n=JSON.parse(localStorage.getItem(p)),r=j(t.target,n);r&&localStorage.setItem(p,JSON.stringify(r))},j=(t,n)=>!n||t.nodeName!=="LI"?void 0:(t.classList.contains("todo")?(t.classList.replace("todo","complete"),t.lastElementChild.remove(),t.insertAdjacentHTML("beforeend",x)):(t.classList.replace("complete","todo"),t.lastElementChild.remove(),t.insertAdjacentHTML("beforeend",w)),n.map(i=>i.id===Number(t.id)?{...i,cls:i.cls==="todo"?"complete":"todo"}:i)),J=t=>{if(t.target.classList.contains("btn-update")&&(v=E.create(`<div class="modal-container"><button type="button" class="btn-close-modal">X</button><input type="text" class="input-modal"/><button type="button" class="btn-update-modal" id="${t.target.parentNode.id}">Update todo</button></div>`,{closable:!1}),v.show(),v.visible())){const n=document.querySelector(".btn-close-modal"),r=document.querySelector(".btn-update-modal"),i=document.querySelector(".input-modal");n.addEventListener("click",v.close),r.addEventListener("click",e=>H(e,i.value))}},H=(t,n)=>{if(!n.trim())return;[...b.children].forEach(e=>{e.id===t.target.id&&(e.firstElementChild.textContent=n)});const i=JSON.parse(localStorage.getItem(p)).map(e=>e.id===Number(t.target.id)?{...e,text:n}:e);localStorage.setItem(p,JSON.stringify(i)),v.close()};I.addEventListener("click",_);b.addEventListener("click",P);b.addEventListener("click",J);b.addEventListener("click",A);const N=JSON.parse(localStorage.getItem(p));N&&U(N);function U(t){t&&(b.innerHTML="",k(t))}new Promise((t,n)=>{n("QWERTY")});
